# Run `travis lint` when changing this file to avoid breaking the build.
# Default JDK is really old: 1.8.0_31; Trusty's is less old: 1.8.0_51
# https://docs.travis-ci.com/user/ci-environment/#Virtualization-environments
dist: trusty
sudo: false
language: java
jdk: oraclejdk8
before_install:
  # Parameters used during release
  - git config user.name "$GH_USER"
  - git config user.email "$GH_USER_EMAIL"
  # setup https authentication credentials, used by ./mvnw release:prepare
  - git config credential.helper "store --file=.git/credentials"
  - echo "https://$GH_TOKEN:@github.com" > .git/credentials

install:
  # Override default travis to use the maven wrapper
  - ./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V

script:
  - ./travis/publish.sh

cache:
  directories:
  - $HOME/.m2

#matrix:
# include:
   # - os: linux
   #  jdk: oraclejdk8
   #  addons:
   #    apt:
   #      packages:
   #        - oracle-java8-installer
   #- os: linux
   #  jdk: openjdk8
   #- os: linux
   #  jdk: openjdk11

# Don't build release tags. This avoids publish conflicts because the version commit exists both on master and the release tag.
# See https://github.com/travis-ci/travis-ci/issues/1532
branches:
  except:
    - /^[0-9]/

env:
  global:
  # Ex. travis encrypt BINTRAY_USER=your_github_account
  - secure: "VeTOgXwhZLf8uwlnYpB9tuY+NV6kiooRN0FMDoWCXuPPSz/tX2mqmshBXDYsJu0EcRtZb21MkbQwbdJ8Th9K/bvj4sGNK1PrBm9Hmz6e2AvAcxn3ROv86GMTkd7O25OsipTT+/qWrbR3s3lHQxYo5WMsrlEmJ/EF5y5Go5wx90c="
  # Ex. travis encrypt BINTRAY_KEY=xxx-https://bintray.com/profile/edit-xxx --add
  - secure: "WND+fjAqpdHArSbXAK7l0dpQLrX0hL/XymV02rhe0pVT1g0J1V32ncqDCVnn/73wTiECTen6y3o1vq3ByIdT9tUErt3o8oEROQsI/cVX9IhvJ/DtcW1lqafXKmQZwDQsifVxhKroW1VuZQbGrKnqVUzfqx5OzxgoNVWpkkxhf50="
  # Ex. travis encrypt GH_USER_EMAIL=for_github@domain.com --add
  - secure: "k1+a+5Sn+IXDGbTiSuoLsiM3VFuUyCnnipk79hXbC8HQc3FmOI8f4H21t2qbgzF7uHVR5KNuufs5pPc9h5Qp5dGopd91ST4L6Fi67ORrvpvL4cSJr7wZcVv2bOO2oJqpzZq1s9Iuu+R1PdHHTnOkSbMTwtqclnPg3FDkMIw6EkbfjJYdVhxxbrLUJgbnWU9eYaS2M4+mX3DzNbRTMKd8N2dFcOXygdiylZGcxETrkTyLsp/pqJwaWIhGdIU1xtxJ//+NzkGSHrdBe5wKE8ND+5Dszy6kqXz8tpLIuD7YV1z+qS5SvvQ1gVwBTq2UJg4xYJjC+6heyVVDfQqFxl/9C4+2YBEBVFaWxEtQcFl/ZKAlA1SyXRdR49IGLIiDecw9nR4MXGrmTkYygDfS5N8roKtnKPG/58KgBY91BaD0XqyjAuKI4c7aOjMvy1fryxDfnEo74hA4Y0TD+HYnd/0n3wjrf1mJ3bOZKRICZ0m7QSp9z77lGXnIJZyMFRr+iFE9NOnkHPNNb2FOeQo7NoSBG4gbO6oaB7gljLNMOBsBanH/SWvN/wwTjgdPRmQ+lIkSU7fjOskYQQaBUHCl5zUeeE+UwJSv6i72gsepws/s/AcThJ6Pf9lY/5Tc87rXWJjcCEJYtGaj9wQIhlcGG8RHJgkLISSm6146JqedlmyZ90k="
    # Ex. travis encrypt GH_USER=your_github_account --add
  - secure: "s0P+9oY/1J+H6FBb4MoVF5gbCFZmehiynTrUqu52fTN2Yxm1knzK2C7JlVhqt0B3diAxC2kSVcq8CWiXifxMiNfem9Uo6h8gs+KCINm9eKyLW5ybUTEmxwkKlqXm0LWDLSmESTBrJMwkC0dyKmuW49BGfTWVB2XNI0m6QlsJr7hl165hAuVfyJFcm+VKpNVjc1soq5j4YqD2WcHVnP/m08CcVAkWMJwUh9VGEAIDCjHOmpK8+aibDgpv7XqhQxlPlRumMcsYSZZf+qZt+JBUvK2ga9UadyaFJwPBCEpZT6eIryjWoQisKJsS9fBognUQwcMysguzVYyYGxb3mIDWeuraUfahGbFIbuM8Nw/DbxDeEnrBM+O3XWbgP2bgXVc5jz/ykXB8yTizH12ffoyMQF9gSiPH5hJDpnOCWE9lIkr7OgU68bwYbRKrXgfK0bM0WjjOhHvHg673XrQ9k8isPIZaN6nwEl54Wp1A+NoL8N5kq6KDZId1zbb3SxV3+12+JYGMs4JjtCehx2YxT+v8Lp0Q1HxobTEy7eAFmLqAA6bFL7NTFIYAKYV3OHaEfOa4OmNmNi7EYkeS7mxLp9SXolpmmVNerD+GB8WV0oE+YCuYbCFJ64bmGnMswu2XWTpu5agPdS10UrQ88T011sAIq0W6kDM3cAdGn/w3XrR+py8="
    # Ex. travis encrypt GH_TOKEN=XXX-https://github.com/settings/tokens-XXX --add
  - secure: "fOcUjJ/8zOcu+CMXKi3GVL6rpgwhWM6VGqMsWXwqucPy9CIiAjZGa2mrCjstu+OobbK2ZBzFtmQefdLY23x07T2dZnUouzpkDv06XiL8pq0s2vW8d1xRauWi3iFFnqa1mwKQpFY5EqaYWcPnIsqbkRFAFYvB+W/7rr4i1LZWDWPo+a5ha61YHOSWCFhNaevQUoQByLiBSHxFYznkv8meNoaMne9FaR/f8eYEJWWAtVG3vzEn2q4at3zGDO3Hz3c2T/4ClmLsjmDrZeFd+e8CGIN+8ewXOxtIwCUooXQsqlvLHLrDzkT8HdcLyrETdZJkgjyz9GNU/rOVdT6WW1UJjCdM5aQsrvhFf3XtP7eMFfvPSo29BhQzIm5zWNlDwAN/VcCMFZJpwMC670Q0p4EFA63tyhRMndEXPcpx2Biwwt5lqOzj6y4YM4RIUJmWCsxE7qzuyiuunA0h7pxq6k7fJz5UiSPgx48LQnOcbOGJmRnGWwFQf1TNLRlRXD6ReBlZc6Zq5IEJfOgz841lqOIAYT80cAb0/yeYHEk1ooEyeUexlbYCT/q+T0vqETmzTDCXDA4swW9XXzXte87G7dqW4bdlEnPcvaQ0eVM0mvROVrfRPn3Qk66VNGZMGgrwL2p8ZF0u4vaQgaP2+fhz3LN/RoQ1TiH0Kvsn3XfZxzxLHEI="
  # Ex. travis encrypt SONATYPE_USER=your_sonatype_account
  - secure: "ONAU76S0WBGcQGf0mr7KxKQjFvhhu73GNuQG8j47pxhJojNlNpWBbu+EGkgaInWKMtO89iBtpicVlXZc06HtbSqv7L93gbMo+xgp5daLlQg4gocDixjB1I2oPPITFFoztu76nOA1IBWRLTKu+w+Y2tKOmzWm+5v2UKD6fz7SYoo="
  # Ex. travis encrypt SONATYPE_PASSWORD=your_sonatype_password
  - secure: "UaVTxnw8klS36WLAdcmubqrHIgS4o5NcIqQMPIihk0tv3VEvCJSGvc2b7EPyQZMvm5TR3mXq5IJUAHp8j3seAHfYWmLIZWzvn7Y5mLRw8Kh9up7GzXl8Idui0AEHAAL2mfvE9smlOKPS5D13LKc6tOGFER66itHW3Jg1QoijDmQ="

